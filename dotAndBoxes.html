<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dot and Boxes</title>
</head>
<body>
    <script>
        const FPS = 30;//frames per seconds
        const GRID_SIZE = 5;// number of rows and coloumns
        const HEIGHT = 550;

      // calculations
        const WIDTH = HEIGHT * 0.9;
        const CELL = WIDTH / (GRID_SIZE + 2);//size of each cell
        const STROKE = CELL /12;
        const DOT = STROKE;
        const MARGIN = HEIGHT -(GRID_SIZE+1)*CELL;

        //colors

      const COLOR_BOARD = "cornsilk";
      const COLOR_BORDER = "wheat";
      const COLOR_COMP = "crimson";
      const COLOR_COMP_LIT = "lightpink";
      const COLOR_DOT = "red";
      const COLOR_PLAY = "royalblue";
      const COLOR_PLAY_LIT = "lightsteelblue";

        //set up the game outline
        var canv = document.createElement("canvas");
        canv.height = HEIGHT;
        canv.width = WIDTH;
        document.body.appendChild(canv);

        //set up the context
        var ctx = canv.getContext("2d");
        ctx.lineWidth = STROKE;

        // game variable
        var squares;

        //start a new game
        newGame();

        // set up the game loop
        setInterval(loop,1000 /FPS);

        function loop(){
            drawBoard();
            drawGrid();
        }
        function drawBoard(){
            ctx.fillStyle = COLOR_BOARD;
            ctx.strokeStyle = COLOR_BORDER;
            ctx.fillRect(0,0,WIDTH,HEIGHT);
            ctx.strokeRect(STROKE /2,STROKE/2,WIDTH-STROKE,HEIGHT-STROKE);
        }
        function drawDot(x,y){
            ctx.fillStyle=COLOR_DOT;
            ctx.beginPath();
            ctx.arc(x,y,DOT,0,Math.PI*2);
            ctx.fill();
        }
        function drawGrid(){
            for (let i=0;i < GRID_SIZE+1;i++){
                for(let j =0; j<GRID_SIZE+1;j++){
                    drawDot(getGridX(j),getGridY(i))
                }
            }
        }
        function getGridX(col){
            return CELL *(col+1);
        }

        function getGridY(row){
            return MARGIN + CELL*row;
        }
        function newGame(){
            squares = [];
            for(let i=0;i< GRID_SIZE;i++){
                squares[i] = [];
                for(let j =0;j < GRID_SIZE;j++){
                    squares[i][j] = new Square(getGridX(j),getGridY(i),CELL,CELL);
                }
            }
        }
        function Square(x,y,w,h){
            this.w = w;
            this.h=h;
            this.bot = y +h;
            this.left=x;
            this.right=x+w;
            this.top=y
        }

        this.contains = function(x,y){
            return x >= this.left && x <= this.right && y >= this.top && y < this.bot;
        }
    </script>
    
</body>
</html>